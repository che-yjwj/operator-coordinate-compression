# TinyLLaMA / SLM 검증 스펙(초안)

## 목적

실제 모델 체크포인트에서 다음 “문서 수준 주장”을 검증합니다.

- 아웃라이어 통계는 **좌표계-상대적**이다.
- 회전은 주로 **평탄화(flattening)**를 제공한다(=양자화 강인성 향상).
- 근사적 정렬(alignment)은 **집중(concentration)**을 높일 수 있다(=더 좋은 압축 대리 지표).

## 대상

- 모델: TinyLLaMA 또는 유사한 SLM 체크포인트
- 레이어: 어텐션 프로젝션 + FFN 프로젝션(대표 블록)

## 비교할 좌표계

1. 원래 좌표계
2. Hadamard / 직교 회전(축 변환, axis transformation)
3. (선택) PCA 유사 국소 정렬(블록/채널 단위)

## 지표

- 아웃라이어 지표: `||W||_∞ / ||W||_2`, fraction(|W| > 3σ), 첨도(kurtosis)
- 집중(concentration): top-k 에너지 비율(top-k energy ratio)
- 레이트(rate) 대리값: 양자화 후 히스토그램 엔트로피 / Huffman proxy
- 왜곡(distortion) 대리값: 재구성 오차(reconstruction error) / (선택) 평가 파이프라인과 결합 시 loss/perplexity 변화량

## 프로토콜(초안)

1. 레이어 타입별로 가중치 행렬을 추출
2. 각 좌표 변환을 적용
3. 일관된 스케일링 정책으로 고정 비트폭(예: 2/3/4/6/8) 양자화
4. 분포/엔트로피/집중/왜곡 대리 지표 계산
5. 레이어 전반의 경향을 요약

## 기대 결과

- 회전은 아웃라이어 지표를 낮추고 엔트로피를 소폭 낮출 수 있다(평탄화 효과)
- 정렬은 top-k 집중을 높이고 더 큰 엔트로피/레이트 대리값 개선을 낳을 수 있다
